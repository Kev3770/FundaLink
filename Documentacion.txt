DOCUMENTACI√ìN BACKEND - PROYECTO FUNDALink
Sistema de Informaci√≥n Institucional para FUNDAEST√âCNICOS - Backend
Versi√≥n: 1.0.0
Fecha: Octubre 30, 2025
Desarrollador: Kevin Alejandro Pe√±a Ram√≠rez
Stack Backend: Node.js + Express.js + MongoDB + Mongoose

üìä √çNDICE

Resumen del Backend
Configuraci√≥n Inicial
Estructura del Proyecto
Modelos de Datos
Controladores
Rutas (Endpoints)
Middlewares
Utilidades
Sistema de Autenticaci√≥n
Variables de Entorno
Scripts NPM
Gu√≠a de Instalaci√≥n


<a name="resumen-backend"></a>
1. üìã RESUMEN DEL BACKEND
1.1 Descripci√≥n General
API RESTful desarrollada en Node.js con Express que proporciona servicios para la gesti√≥n integral de la instituci√≥n educativa FUNDAEST√âCNICOS.
1.2 Caracter√≠sticas Principales

‚úÖ API REST con arquitectura MVC
‚úÖ Autenticaci√≥n JWT con doble sistema (Usuarios/Estudiantes)
‚úÖ Sistema de roles y permisos
‚úÖ Encriptaci√≥n de contrase√±as con bcrypt
‚úÖ Base de datos MongoDB con Mongoose ODM
‚úÖ CORS habilitado para comunicaci√≥n con frontend
‚úÖ Validaciones en modelos y controladores
‚úÖ Soft delete (eliminaci√≥n l√≥gica)
‚úÖ Auditor√≠a de acciones (creado por, actualizado por)
‚úÖ Paginaci√≥n en listados
‚úÖ Filtros y b√∫squedas avanzadas

1.3 Tecnolog√≠as Utilizadas
Tecnolog√≠aVersi√≥nProp√≥sitoNode.jsv18+Entorno de ejecuci√≥nExpress.js^4.18.2Framework webMongoDBv8.2.1Base de datos NoSQLMongoose^7.6.3ODM para MongoDBbcryptjs^2.4.3Encriptaci√≥n de contrase√±asjsonwebtoken^9.0.2Tokens JWTcors^2.8.5Cross-Origin Resource Sharingdotenv^16.3.1Variables de entornonodemon^3.0.1Auto-reinicio en desarrollo

<a name="configuracion-inicial"></a>
2. ‚öôÔ∏è CONFIGURACI√ìN INICIAL
2.1 Requisitos Previos

Node.js v18 o superior
MongoDB v8.2.1 (local o remoto)
NPM o Yarn
Git
Editor de c√≥digo (VS Code recomendado)

2.2 Instalaci√≥n de Dependencias
bash# Navegar a la carpeta del backend
cd backend

# Instalar dependencias de producci√≥n
npm install express cors dotenv mongoose

# Instalar dependencias de autenticaci√≥n
npm install bcryptjs jsonwebtoken

# Instalar dependencias de desarrollo
npm install --save-dev nodemon
2.3 Configuraci√≥n de MongoDB
Opci√≥n 1: MongoDB Local
bash# Iniciar servicio de MongoDB (Windows)
mongod

# En otra terminal, verificar conexi√≥n
mongosh
```

### Opci√≥n 2: MongoDB Atlas (Cloud)
1. Crear cuenta en [MongoDB Atlas](https://www.mongodb.com/cloud/atlas)
2. Crear un cluster gratuito
3. Configurar usuario de base de datos
4. Obtener string de conexi√≥n
5. Agregar a archivo `.env`

---

<a name="estructura-proyecto"></a>
# 3. üìÇ ESTRUCTURA DEL PROYECTO
```
backend/
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.js                    # Configuraci√≥n de MongoDB
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ noticia.controller.js          # Controlador de noticias
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ evento.controller.js           # Controlador de eventos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ usuario.controller.js          # Controlador de usuarios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ testimonio.controller.js       # Controlador de testimonios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ programa.controller.js         # Controlador de programas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ estudiante.controller.js       # Controlador de estudiantes
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ noticia.model.js               # Modelo de noticias
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ evento.model.js                # Modelo de eventos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ usuario.model.js               # Modelo de usuarios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ testimonio.model.js            # Modelo de testimonios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ programa.model.js              # Modelo de programas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ estudiante.model.js            # Modelo de estudiantes
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test.routes.js                 # Rutas de prueba
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ noticia.routes.js              # Rutas de noticias
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ evento.routes.js               # Rutas de eventos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ usuario.routes.js              # Rutas de usuarios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ testimonio.routes.js           # Rutas de testimonios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ programa.routes.js             # Rutas de programas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ estudiante.routes.js           # Rutas de estudiantes
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ middlewares/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.middleware.js             # Middleware de autenticaci√≥n y roles
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ services/                          # (Reservado para l√≥gica de negocio compleja)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ jwt.utils.js                   # Funciones de utilidad JWT
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ app.js                             # Configuraci√≥n de Express
‚îÇ   ‚îî‚îÄ‚îÄ server.js                          # Punto de entrada del servidor
‚îÇ
‚îú‚îÄ‚îÄ .env                                   # Variables de entorno (NO subir a Git)
‚îú‚îÄ‚îÄ .gitignore                             # Archivos ignorados por Git
‚îú‚îÄ‚îÄ package.json                           # Dependencias y scripts
‚îî‚îÄ‚îÄ package-lock.json                      # Lock de dependencias

<a name="modelos-datos"></a>
4. üóÉÔ∏è MODELOS DE DATOS
4.1 Usuario (usuario.model.js)
Descripci√≥n
Modelo para administradores del sistema con diferentes niveles de acceso.
Schema
javascript{
  nombre: String (required, trim),
  apellido: String (required, trim),
  email: String (required, unique, lowercase, trim, validaci√≥n regex),
  password: String (required, minlength: 6, select: false),
  rol: Enum ['superadmin', 'admin', 'editor'] (default: 'editor'),
  activo: Boolean (default: true),
  ultimoAcceso: Date,
  timestamps: true (createdAt, updatedAt)
}
M√©todos

compararPassword(passwordIngresado): Compara password con bcrypt

Hooks

pre('save'): Encripta password antes de guardar

Virtuals

nombreCompleto: Retorna nombre + apellido

√çndices

email: √≠ndice √∫nico


4.2 Estudiante (estudiante.model.js)
Descripci√≥n
Modelo para estudiantes matriculados con acceso mediante c√≥digo √∫nico.
Schema
javascript{
  // Informaci√≥n Personal
  nombre: String (required, trim),
  apellido: String (required, trim),
  documento: {
    tipo: Enum ['CC', 'TI', 'CE', 'Pasaporte'] (required),
    numero: String (required, unique, trim)
  },
  email: String (required, unique, lowercase, trim, validaci√≥n regex),
  telefono: String (required, trim),
  fechaNacimiento: Date (required),
  genero: Enum ['Masculino', 'Femenino', 'Otro', 'Prefiero no decir'],
  direccion: {
    calle: String,
    ciudad: String,
    departamento: String,
    codigoPostal: String
  },
  
  // Informaci√≥n Acad√©mica
  programa: ObjectId (ref: 'Programa', required),
  codigoEstudiante: String (required, unique, uppercase, trim),
  codigoAcceso: String (required, unique, select: false),
  estado: Enum ['activo', 'inactivo', 'graduado', 'retirado', 'suspendido'],
  jornada: Enum ['Diurna', 'Nocturna', 'Mixta', 'Fines de semana'] (required),
  fechaInscripcion: Date (default: Date.now),
  fechaInicio: Date,
  fechaGraduacion: Date,
  
  // Contacto de Emergencia
  contactoEmergencia: {
    nombre: String (required),
    relacion: String (required),
    telefono: String (required)
  },
  
  // Adicional
  foto: String,
  observaciones: String,
  activo: Boolean (default: true),
  ultimoAcceso: Date,
  
  // Auditor√≠a
  creadoPor: ObjectId (ref: 'Usuario'),
  actualizadoPor: ObjectId (ref: 'Usuario'),
  timestamps: true
}
M√©todos

compararCodigoAcceso(codigoIngresado): Compara c√≥digo con bcrypt

Hooks

pre('save'): Genera c√≥digo de estudiante autom√°tico (EST + A√ëO + CONSECUTIVO)
pre('save'): Encripta c√≥digo de acceso

Virtuals

nombreCompleto: Retorna nombre + apellido
edad: Calcula edad desde fechaNacimiento
documentoCompleto: Retorna tipo + numero

√çndices

documento.numero: √≠ndice √∫nico
email: √≠ndice √∫nico
codigoEstudiante: √≠ndice √∫nico
nombre, apellido: √≠ndice de texto (para b√∫squedas)


4.3 Noticia (noticia.model.js)
Descripci√≥n
Modelo para noticias y anuncios institucionales.
Schema
javascript{
  titulo: String (required, trim, maxlength: 200),
  contenido: String (required),
  imagen: String,
  autor: String (required, default: 'Administrador FUNDAEST√âCNICOS'),
  categoria: Enum ['Acad√©mica', 'Administrativa', 'Evento', 'General'],
  destacada: Boolean (default: false),
  activa: Boolean (default: true),
  fechaPublicacion: Date (default: Date.now),
  creadoPor: ObjectId (ref: 'Usuario'),
  actualizadoPor: ObjectId (ref: 'Usuario'),
  timestamps: true
}
√çndices

titulo, contenido: √≠ndice de texto (para b√∫squedas)


4.4 Evento (evento.model.js)
Descripci√≥n
Modelo para eventos institucionales con sistema de inscripci√≥n.
Schema
javascript{
  nombre: String (required, trim, maxlength: 200),
  descripcion: String (required),
  fecha: Date (required),
  horaInicio: String (required),
  horaFin: String,
  lugar: String (required),
  imagen: String,
  tipo: Enum ['Acad√©mico', 'Cultural', 'Deportivo', 'Institucional', 'Social'],
  capacidadMaxima: Number (null = ilimitado),
  inscritosCount: Number (default: 0),
  requiereInscripcion: Boolean (default: false),
  destacado: Boolean (default: false),
  activo: Boolean (default: true),
  organizador: String (default: 'FUNDAEST√âCNICOS'),
  creadoPor: ObjectId (ref: 'Usuario'),
  actualizadoPor: ObjectId (ref: 'Usuario'),
  timestamps: true
}
Virtuals

esPasado: Retorna true si fecha < Date.now()
estaLleno: Retorna true si inscritosCount >= capacidadMaxima


4.5 Testimonio (testimonio.model.js)
Descripci√≥n
Modelo para testimonios de estudiantes y egresados con sistema de aprobaci√≥n.
Schema
javascript{
  nombre: String (required, trim, maxlength: 100),
  apellido: String (required, trim, maxlength: 100),
  email: String (required, lowercase, trim, validaci√≥n regex),
  foto: String,
  testimonio: String (required, minlength: 50, maxlength: 1000),
  programa: String (required, trim),
  promocion: String (required, trim),
  ocupacionActual: String (trim),
  empresaActual: String (trim),
  calificacion: Number (min: 1, max: 5, default: 5),
  destacado: Boolean (default: false),
  aprobado: Boolean (default: false),
  activo: Boolean (default: true),
  fechaPublicacion: Date,
  aprobadoPor: ObjectId (ref: 'Usuario'),
  fechaAprobacion: Date,
  timestamps: true
}
Virtuals

nombreCompleto: Retorna nombre + apellido

√çndices

nombre, apellido, testimonio: √≠ndice de texto


4.6 Programa (programa.model.js)
Descripci√≥n
Modelo para programas educativos ofrecidos por la instituci√≥n.
Schema
javascript{
  nombre: String (required, unique, trim, maxlength: 200),
  codigo: String (required, unique, uppercase, trim, maxlength: 20),
  descripcion: String (required, minlength: 100),
  duracion: {
    valor: Number (required),
    unidad: Enum ['meses', 'a√±os', 'semestres']
  },
  modalidad: Enum ['Presencial', 'Virtual', 'Semipresencial'] (required),
  jornada: Enum ['Diurna', 'Nocturna', 'Mixta', 'Fines de semana'],
  requisitos: [String] (required, min: 1),
  objetivos: String (required),
  perfilEgresado: String (required),
  competencias: [String],
  campoLaboral: String,
  materias: [String],
  imagen: String,
  costos: {
    matricula: Number (required, min: 0),
    mensualidad: Number (required, min: 0),
    totalPrograma: Number (calculado autom√°ticamente),
    moneda: String (default: 'COP')
  },
  inscripcion: {
    disponible: Boolean (default: true),
    cuposDisponibles: Number (null = ilimitado),
    cuposOcupados: Number (default: 0),
    fechaInicio: Date,
    fechaCierre: Date
  },
  activo: Boolean (default: true),
  destacado: Boolean (default: false),
  orden: Number (default: 0),
  creadoPor: ObjectId (ref: 'Usuario'),
  actualizadoPor: ObjectId (ref: 'Usuario'),
  timestamps: true
}
Hooks

pre('save'): Calcula costos.totalPrograma basado en duraci√≥n

Virtuals

tieneCupos: Retorna true si hay cupos disponibles
cuposRestantes: Retorna cupos disponibles - cupos ocupados
duracionTexto: Retorna "X meses/a√±os/semestres"

√çndices

nombre, descripcion: √≠ndice de texto
codigo: √≠ndice √∫nico


<a name="controladores"></a>
5. üéÆ CONTROLADORES
5.1 Estructura General de Controladores
Todos los controladores siguen un patr√≥n consistente:
javascript// Importar modelo
const Modelo = require('../models/modelo.model');

// Funci√≥n del controlador
const funcionControlador = async (req, res) => {
  try {
    // L√≥gica del controlador
    
    // Respuesta exitosa
    res.status(200).json({
      success: true,
      message: 'Mensaje descriptivo',
      data: resultado
    });
    
  } catch (error) {
    // Manejo de errores
    res.status(400 o 500).json({
      success: false,
      message: 'Mensaje de error',
      error: error.message
    });
  }
};

module.exports = { funcionControlador };

5.2 Usuario Controller (usuario.controller.js)
Funciones Implementadas
registrarUsuario(req, res)
Descripci√≥n: Registra un nuevo usuario administrador
Requiere Auth: No (primer usuario) / S√≠ (usuarios subsiguientes)
Rol Requerido: superadmin (para crear m√°s usuarios)
Request Body:
json{
  "nombre": "Kevin",
  "apellido": "Pe√±a",
  "email": "admin@fundaestecnicos.edu.co",
  "password": "admin123",
  "rol": "superadmin"
}
Response:
json{
  "success": true,
  "message": "Usuario registrado exitosamente",
  "data": {
    "id": "...",
    "nombre": "Kevin",
    "apellido": "Pe√±a",
    "email": "admin@fundaestecnicos.edu.co",
    "rol": "superadmin"
  },
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
loginUsuario(req, res)
Descripci√≥n: Autentica un usuario y genera token JWT
Requiere Auth: No
Request Body:
json{
  "email": "admin@fundaestecnicos.edu.co",
  "password": "admin123"
}
Response:
json{
  "success": true,
  "message": "Login exitoso",
  "data": {
    "id": "...",
    "nombre": "Kevin",
    "apellido": "Pe√±a",
    "nombreCompleto": "Kevin Pe√±a",
    "email": "admin@fundaestecnicos.edu.co",
    "rol": "superadmin",
    "ultimoAcceso": "2025-10-30T..."
  },
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
obtenerPerfil(req, res)
Descripci√≥n: Obtiene perfil del usuario autenticado
Requiere Auth: S√≠
Rol Requerido: Cualquier usuario autenticado
obtenerUsuarios(req, res)
Descripci√≥n: Lista todos los usuarios
Requiere Auth: S√≠
Rol Requerido: superadmin
actualizarUsuario(req, res)
Descripci√≥n: Actualiza datos de un usuario
Requiere Auth: S√≠
Rol Requerido: superadmin
cambiarPassword(req, res)
Descripci√≥n: Cambia contrase√±a del usuario autenticado
Requiere Auth: S√≠
Request Body:
json{
  "passwordActual": "admin123",
  "passwordNuevo": "nuevaPassword456"
}
desactivarUsuario(req, res)
Descripci√≥n: Desactiva un usuario (soft delete)
Requiere Auth: S√≠
Rol Requerido: superadmin

5.3 Estudiante Controller (estudiante.controller.js)
Funciones Implementadas
registrarEstudiante(req, res)
Descripci√≥n: Registra un nuevo estudiante y genera c√≥digo de acceso
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
Caracter√≠sticas:

Genera c√≥digo de estudiante autom√°tico (EST + A√ëO + CONSECUTIVO)
Genera c√≥digo de acceso aleatorio de 8 caracteres
Encripta c√≥digo de acceso
Incrementa cupos ocupados del programa
Valida que haya cupos disponibles
Response Especial:

json{
  "success": true,
  "message": "Estudiante registrado exitosamente",
  "data": {
    "estudiante": {...},
    "codigoAccesoTemporal": "ABC12XYZ",
    "mensaje": "IMPORTANTE: Guarda este c√≥digo. No se volver√° a mostrar."
  }
}
loginEstudiante(req, res)
Descripci√≥n: Autentica estudiante con c√≥digo de estudiante + c√≥digo de acceso
Requiere Auth: No
Request Body:
json{
  "codigoEstudiante": "EST20250001",
  "codigoAcceso": "ABC12XYZ"
}
obtenerPerfilEstudiante(req, res)
Descripci√≥n: Obtiene perfil del estudiante autenticado
Requiere Auth: S√≠ (token de estudiante)
obtenerEstudiantes(req, res)
Descripci√≥n: Lista estudiantes con filtros
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
Query Params:

estado: Filtrar por estado (activo, inactivo, graduado, etc.)
programa: Filtrar por ID de programa
jornada: Filtrar por jornada
limit: L√≠mite de resultados (default: 20)
page: P√°gina actual (default: 1)

buscarEstudiantes(req, res)
Descripci√≥n: B√∫squeda avanzada de estudiantes
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
Query Params:

q: T√©rmino de b√∫squeda (min 3 caracteres)
Busca en: nombre, apellido, email, codigoEstudiante, documento.numero

cambiarEstadoEstudiante(req, res)
Descripci√≥n: Cambia estado acad√©mico del estudiante
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
Request Body:
json{
  "estado": "graduado"
}
Estados v√°lidos: activo, inactivo, graduado, retirado, suspendido
resetearCodigoAcceso(req, res)
Descripci√≥n: Genera nuevo c√≥digo de acceso para un estudiante
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
Response:
json{
  "success": true,
  "message": "C√≥digo de acceso reseteado exitosamente",
  "data": {
    "codigoEstudiante": "EST20250001",
    "nombreCompleto": "Laura G√≥mez",
    "nuevoCodigoAcceso": "XYZ98ABC",
    "mensaje": "IMPORTANTE: Comunica este c√≥digo al estudiante."
  }
}

5.4 Noticia Controller (noticia.controller.js)
Funciones Implementadas
obtenerNoticias(req, res)
Descripci√≥n: Lista noticias p√∫blicas activas
Requiere Auth: No
Query Params:

categoria: Filtrar por categor√≠a
destacada: true/false
limit: L√≠mite (default: 10)
page: P√°gina (default: 1)

obtenerNoticiaPorId(req, res)
Descripci√≥n: Obtiene una noticia espec√≠fica
Requiere Auth: No
crearNoticia(req, res)
Descripci√≥n: Crea nueva noticia
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
Caracter√≠sticas:

Registra usuario que crea (creadoPor)
Asigna autor autom√°tico si no se especifica

actualizarNoticia(req, res)
Descripci√≥n: Actualiza noticia existente
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
Caracter√≠sticas:

Registra usuario que actualiza (actualizadoPor)

eliminarNoticia(req, res)
Descripci√≥n: Elimina noticia (soft delete)
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
Caracter√≠sticas:

Marca activa: false
No elimina f√≠sicamente el registro


5.5 Evento Controller (evento.controller.js)
Funciones Implementadas
obtenerEventos(req, res)
Descripci√≥n: Lista eventos p√∫blicos activos
Requiere Auth: No
Query Params:

tipo: Filtrar por tipo
destacado: true/false
proximos: true (solo eventos futuros)
limit: L√≠mite (default: 10)
page: P√°gina (default: 1)

obtenerEventoPorId(req, res)
Descripci√≥n: Obtiene un evento espec√≠fico
Requiere Auth: No
crearEvento(req, res)
Descripci√≥n: Crea nuevo evento
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
actualizarEvento(req, res)
Descripci√≥n: Actualiza evento existente
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
eliminarEvento(req, res)
Descripci√≥n: Elimina evento (soft delete)
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
inscribirseEvento(req, res)
Descripci√≥n: Inscribe a un usuario a un evento
Requiere Auth: No (p√∫blico)
Validaciones:

Verifica que requiera inscripci√≥n
Verifica capacidad disponible
Verifica que no sea evento pasado
Incrementa contador de inscritos


5.6 Testimonio Controller (testimonio.controller.js)
Funciones Implementadas
obtenerTestimonios(req, res)
Descripci√≥n: Lista testimonios aprobados y activos
Requiere Auth: No
Query Params:

destacado: true/false
programa: Nombre del programa
limit: L√≠mite (default: 10)
page: P√°gina (default: 1)

obtenerTestimonioPorId(req, res)
Descripci√≥n: Obtiene un testimonio espec√≠fico
Requiere Auth: No
Nota: Solo muestra si est√° aprobado y activo
crearTestimonio(req, res)
Descripci√≥n: Env√≠a nuevo testimonio (p√∫blico)
Requiere Auth: No
Caracter√≠sticas:

Se crea con aprobado: false
Queda pendiente de aprobaci√≥n administrativa
Response:

json{
  "success": true,
  "message": "Testimonio enviado. Pendiente de aprobaci√≥n.",
  "data": {...}
}
obtenerTestimoniosPendientes(req, res)
Descripci√≥n: Lista testimonios pendientes de aprobaci√≥n
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
obtenerTodosTestimonios(req, res)
Descripci√≥n: Lista todos los testimonios (aprobados, pendientes, rechazados)
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
Query Params:

aprobado: true/false
activo: true/false
limit: L√≠mite (default: 20)
page: P√°gina (default: 1)

aprobarTestimonio(req, res)
Descripci√≥n: Aprueba un testimonio
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
Caracter√≠sticas:

Marca aprobado: true
Asigna fechaAprobacion y fechaPublicacion
Registra aprobadoPor

rechazarTestimonio(req, res)
Descripci√≥n: Rechaza un testimonio
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
Caracter√≠sticas:

Marca activo: false

marcarDestacado(req, res)
Descripci√≥n: Marca/desmarca testimonio como destacado
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
actualizarTestimonio(req, res)
Descripci√≥n: Actualiza datos de un testimonio
Requiere Auth: S√≠
Rol Requerido: admin/superadmin
eliminarTestimonio(req, res)
Descripci√≥n: Elimina testimonio (soft delete)
Requiere Auth: S√≠
Rol Requerido: admin/superadmin

5.7 Programa Controller (programa.controller.js)
Funciones Implementadas
obtenerProgramas(req, res)
Descripci√≥n: Lista programas activos
Requiere Auth: No
Query Params:

modalidad: Filtrar por modalidad
destacado: true/false
disponible: true/false (inscripci√≥n abierta)
limit: L√≠mite (default: 20)
page: P√°gina (default: 1)

obtenerProgramaPorId(req, res)
Descripci√≥n: Obtiene un programa espec√≠fico
Requiere Auth: No
obtenerProgramaPorCodigo(req, res)
Descripci√≥n: Obtiene programa por c√≥digo √∫nico
Requiere Auth: No
Ejemplo: /api/programas/codigo/TLS-001
obtenerProgramasDisponibles(req, res)
Descripci√≥n: Lista programas con inscripci√≥n abierta y cupos disponibles
Requiere Auth: No
obtenerTodosProgramas(req, res)
Descripci√≥n: Lista todos los programas (incluye inactivos)
Requiere Auth: S√≠
Rol Requerido: admin/supera